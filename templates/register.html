<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Register</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <style>
        body { font-family: 'Inter', sans-serif; }
    </style>
</head>
<body class="bg-gray-900 text-gray-800">
<div class="min-h-screen flex items-center justify-center px-4 py-16">
    <div class="w-full max-w-md bg-white rounded-2xl shadow-xl p-8">
        <h2 class="text-3xl font-bold text-center text-gray-900 mb-4">Register Your Team</h2>
        <p class="text-center text-sm text-gray-500 mb-6">Create both a user and admin account for your FRC team</p>
        <form id="registerForm" class="space-y-5">
            <!-- Team Number -->
            <div>
                <label for="registerTeamNumber" class="block text-sm font-medium text-gray-700">Team Number</label>
                <input type="text" id="registerTeamNumber" name="team_number"
                       class="w-full mt-1 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"
                       placeholder="e.g. 5987" required>
            </div>

            <!-- User Password -->
            <div>
                <label class="block text-sm font-medium text-gray-700">Password</label>
                <div class="relative mt-1">
                    <input type="password" id="registerPassword" name="password"
                           class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"
                           placeholder="Enter Password" required>
                    <button type="button" id="toggleRegisterPassword"
                            class="absolute inset-y-0 right-3 flex items-center text-gray-500">
                        <i class="fa-solid fa-eye-slash"></i>
                    </button>
                </div>
            </div>

            <!-- Confirm Password -->
            <div>
                <label class="block text-sm font-medium text-gray-700">Confirm Password</label>
                <div class="relative mt-1">
                    <input type="password" id="registerPasswordConfirm"
                           class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"
                           placeholder="Re-enter Password" required>
                    <button type="button" id="toggleRegisterPasswordConfirm"
                            class="absolute inset-y-0 right-3 flex items-center text-gray-500">
                        <i class="fa-solid fa-eye-slash"></i>
                    </button>
                </div>
            </div>

            <!-- Admin Password -->
            <div class="pt-2 border-t border-gray-300">
                <h3 class="text-md font-semibold text-gray-800 mt-2 mb-1">Admin Password</h3>
                <p class="text-sm text-gray-500 mb-2">Set an admin password for team management access.</p>
            </div>

            <div>
                <label class="block text-sm font-medium text-gray-700">Admin Password</label>
                <div class="relative mt-1">
                    <input type="password" id="registerAdminPassword" name="adminPassword"
                           class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"
                           placeholder="Enter Admin Password" required>
                    <button type="button" id="toggleAdminPassword"
                            class="absolute inset-y-0 right-3 flex items-center text-gray-500">
                        <i class="fa-solid fa-eye-slash"></i>
                    </button>
                </div>
            </div>

            <!-- Confirm Admin Password -->
            <div>
                <label class="block text-sm font-medium text-gray-700">Confirm Admin Password</label>
                <div class="relative mt-1">
                    <input type="password" id="registerAdminPasswordConfirm"
                           class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"
                           placeholder="Re-enter Admin Password" required>
                    <button type="button" id="toggleAdminPasswordConfirm"
                            class="absolute inset-y-0 right-3 flex items-center text-gray-500">
                        <i class="fa-solid fa-eye-slash"></i>
                    </button>
                </div>
            </div>

            <!-- Submit -->
            <button type="submit"
                    class="w-full bg-blue-600 text-white font-bold py-2 rounded-lg hover:bg-blue-700 transition">
                Register Team
            </button>
            <p id="registerMessage" class="text-center text-red-500 text-sm pt-2"></p>
        </form>

        <p class="text-center text-sm text-gray-600 mt-6">
            Already registered?
            <a href="{{ url_for('home') }}" class="text-blue-600 hover:underline font-semibold">Sign In here</a>
        </p>
    </div>
</div>

<!-- Password toggle logic -->
<script>
    function setupToggle(buttonId, inputId) {
        const btn = document.getElementById(buttonId);
        const input = document.getElementById(inputId);
        btn.addEventListener('click', () => {
            const icon = btn.querySelector('i');
            if (input.type === 'password') {
                input.type = 'text';
                icon.classList.replace('fa-eye-slash', 'fa-eye');
            } else {
                input.type = 'password';
                icon.classList.replace('fa-eye', 'fa-eye-slash');
            }
        });
    }

    setupToggle('toggleRegisterPassword', 'registerPassword');
    setupToggle('toggleRegisterPasswordConfirm', 'registerPasswordConfirm');
    setupToggle('toggleAdminPassword', 'registerAdminPassword');
    setupToggle('toggleAdminPasswordConfirm', 'registerAdminPasswordConfirm');
</script>

<script src="/static/script.js"></script>
</body>
</html>
